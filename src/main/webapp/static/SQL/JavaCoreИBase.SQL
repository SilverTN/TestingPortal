-- Тест "Java Core - Основы и ООП"
INSERT INTO tests (id, title, description) VALUES
    (3, 'Java Core - Основы и ООП', 'Основные концепции Java: JVM, модификаторы, ООП, инициализация');

----------------------------------------------------------
-- Вопрос 1: JRE, JVM, JDK
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (30, 3, 'Чем различаются JRE, JVM и JDK?', 1);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (300, 30, 'JDK содержит компилятор и инструменты разработки', true),
                                                            (301, 30, 'JRE - среда выполнения (JVM + библиотеки)', true),
                                                            (302, 30, 'JVM исполняет байт-код', true),
                                                            (303, 30, 'JRE включает в себя JDK', false),
                                                            (304, 30, 'JVM компилирует исходный код', false);

----------------------------------------------------------
-- Вопрос 2: Модификаторы доступа
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (31, 3, 'Какие существуют модификаторы доступа в Java?', 1);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (305, 31, 'public', true),
                                                            (306, 31, 'protected', true),
                                                            (307, 31, 'private', true),
                                                            (308, 31, 'package-private (по умолчанию)', true),
                                                            (309, 31, 'global', false),
                                                            (310, 31, 'internal', false);

----------------------------------------------------------
-- Вопрос 3: Ключевое слово final
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (32, 3, 'О чем говорит ключевое слово final?', 1);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (311, 32, 'Для класса: запрет наследования', true),
                                                            (312, 32, 'Для метода: запрет переопределения', true),
                                                            (313, 32, 'Для переменной: запрет изменения значения', true),
                                                            (314, 32, 'Для параметра: разрешает изменение значения', false),
                                                            (315, 32, 'Для интерфейса: делает все методы реализованными', false);

----------------------------------------------------------
-- Вопрос 4: Инициализация переменных
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (33, 3, 'Какими значениями инициализируются переменные по умолчанию?', 1);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (316, 33, 'Числовые примитивы: 0', true),
                                                            (317, 33, 'boolean: false', true),
                                                            (318, 33, 'char: \u0000', true),
                                                            (319, 33, 'Ссылочные типы: null', true),
                                                            (320, 33, 'Локальные переменные: случайное значение', false),
                                                            (321, 33, 'Все переменные требуют явной инициализации', false);

----------------------------------------------------------
-- Вопрос 5: Функция main()
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (34, 3, 'Что вы знаете о функции main()?', 1);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (322, 34, 'Точка входа в программу', true),
                                                            (323, 34, 'Должна быть public static void', true),
                                                            (324, 34, 'Принимает массив String как аргумент', true),
                                                            (325, 34, 'Может быть несколько main-методов в классе', false),
                                                            (326, 34, 'Может возвращать int', false);

----------------------------------------------------------
-- Вопрос 6: Логические операторы
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (35, 3, 'Какие логические операции и операторы вы знаете?', 1);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (327, 35, '&& (логическое И)', true),
                                                            (328, 35, '|| (логическое ИЛИ)', true),
                                                            (329, 35, '! (логическое НЕ)', true),
                                                            (330, 35, '^ (логическое исключающее ИЛИ)', true),
                                                            (331, 35, '& (побитовое И)', false),
                                                            (332, 35, '<< (сдвиг влево)', false);

----------------------------------------------------------
-- Вопрос 7: Тернарный оператор
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (36, 3, 'Что такое тернарный оператор выбора?', 0);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (333, 36, 'Условный оператор вида: условие ? значение1 : значение2', true),
                                                            (334, 36, 'Оператор для работы с тремя переменными', false),
                                                            (335, 36, 'Специальный оператор цикла', false),
                                                            (336, 36, 'Оператор сравнения трех значений', false);

----------------------------------------------------------
-- Вопрос 8: Побитовые операции
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (37, 3, 'Какие побитовые операции вы знаете?', 1);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (337, 37, '& (И)', true),
                                                            (338, 37, '| (ИЛИ)', true),
                                                            (339, 37, '^ (исключающее ИЛИ)', true),
                                                            (340, 37, '~ (НЕ)', true),
                                                            (341, 37, '&& (логическое И)', false),
                                                            (342, 37, '! (логическое НЕ)', false);

----------------------------------------------------------
-- Вопрос 9: Модификатор abstract
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (38, 3, 'Где и для чего используется модификатор abstract?', 1);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (343, 38, 'Для объявления абстрактных классов', true),
                                                            (344, 38, 'Для объявления методов без реализации', true),
                                                            (345, 38, 'Для запрета создания экземпляров класса', true),
                                                            (346, 38, 'Для указания, что метод должен быть переопределен', true),
                                                            (347, 38, 'Для создания статических методов', false),
                                                            (348, 38, 'Для объявления финальных классов', false);

----------------------------------------------------------
-- Вопрос 10: Интерфейсы
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (39, 3, 'Дайте определение понятию «интерфейс». Какие модификаторы по умолчанию имеют поля и методы интерфейсов?', 0);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (349, 39, 'Контракт, который должны реализовать классы. Поля: public static final, методы: public abstract', true),
                                                            (350, 39, 'Базовый класс для наследования. Поля: private, методы: protected', false),
                                                            (351, 39, 'Набор статических методов. Поля: final, методы: static', false),
                                                            (352, 39, 'Абстрактный класс без полей. Поля: отсутствуют, методы: public', false);

----------------------------------------------------------
-- Вопрос 11: Абстрактный класс vs Интерфейс
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (40, 3, 'Чем абстрактный класс отличается от интерфейса? В каких случаях следует использовать абстрактный класс, а в каких интерфейс?', 0);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (353, 40, 'Абстрактный класс может содержать реализацию, интерфейс - только контракт. Использовать абстрактный класс для общей функциональности, интерфейс - для определения поведения', true),
                                                            (354, 40, 'Ничем не отличаются, можно использовать что угодно', false),
                                                            (355, 40, 'Интерфейс может содержать реализацию, абстрактный класс - нет', false),
                                                            (356, 40, 'Абстрактный класс используется только для наследования, интерфейс - для полиморфизма', false);

----------------------------------------------------------
-- Вопрос 12: Пустые интерфейсы
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (41, 3, 'Почему в некоторых интерфейсах вообще не определяют методов?', 0);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (357, 41, 'Для маркировки классов (marker interfaces)', true),
                                                            (358, 41, 'Это ошибка в проектировании', false),
                                                            (359, 41, 'Такие интерфейсы нельзя реализовать', false),
                                                            (360, 41, 'Java не позволяет создавать пустые интерфейсы', false);

----------------------------------------------------------
-- Вопрос 13: final в интерфейсах
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (42, 3, 'Почему нельзя объявить метод интерфейса с модификатором final?', 0);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (361, 42, 'Потому что методы интерфейса должны быть переопределяемы', true),
                                                            (362, 42, 'Можно, это допустимо в Java', false),
                                                            (363, 42, 'final методы не поддерживаются в Java', false),
                                                            (364, 42, 'Это приведет к ошибке компиляции', false);

----------------------------------------------------------
-- Вопрос 14: Уровень абстракции
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (43, 3, 'Что имеет более высокий уровень абстракции - класс, абстрактный класс или интерфейс?', 0);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (365, 43, 'Интерфейс', true),
                                                            (366, 43, 'Абстрактный класс', false),
                                                            (367, 43, 'Обычный класс', false),
                                                            (368, 43, 'Все имеют одинаковый уровень абстракции', false);

----------------------------------------------------------
-- Вопрос 15: Доступ к private переменным
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (44, 3, 'Может ли объект получить доступ к private-переменной класса? Если да, то каким образом?', 0);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (369, 44, 'Да, через методы-геттеры или рефлексию', true),
                                                            (370, 44, 'Нет, private переменные недоступны', false),
                                                            (371, 44, 'Только если объект того же класса', false),
                                                            (372, 44, 'Только через наследование', false);

----------------------------------------------------------
-- Вопрос 16: Порядок вызова конструкторов
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (45, 3, 'Каков порядок вызова конструкторов и блоков инициализации с учётом иерархии классов?', 0);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (373, 45, 'Статические блоки → Блоки инициализации → Конструкторы родителя → Конструкторы потомка', true),
                                                            (374, 45, 'Конструкторы потомка → Конструкторы родителя → Блоки инициализации', false),
                                                            (375, 45, 'Блоки инициализации → Статические блоки → Конструкторы', false),
                                                            (376, 45, 'Порядок случайный', false);

----------------------------------------------------------
-- Вопрос 17: Блоки инициализации
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (46, 3, 'Зачем нужны и какие бывают блоки инициализации?', 1);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (377, 46, 'Для инициализации полей класса', true),
                                                            (378, 46, 'Статические блоки выполняются при загрузке класса', true),
                                                            (379, 46, 'Нестатические блоки выполняются перед каждым конструктором', true),
                                                            (380, 46, 'Для замены конструкторов', false),
                                                            (381, 46, 'Только для статических полей', false);

----------------------------------------------------------
-- Вопрос 18: Модификатор static
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (47, 3, 'К каким конструкциям Java применим модификатор static?', 1);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (382, 47, 'Переменные', true),
                                                            (383, 47, 'Методы', true),
                                                            (384, 47, 'Блоки инициализации', true),
                                                            (385, 47, 'Классы (вложенные)', true),
                                                            (386, 47, 'Конструкторы', false),
                                                            (387, 47, 'Интерфейсы', false);

----------------------------------------------------------
-- Вопрос 19: Статические блоки
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (48, 3, 'Для чего в Java используются статические блоки инициализации?', 0);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (388, 48, 'Для инициализации статических переменных при загрузке класса', true),
                                                            (389, 48, 'Для выполнения кода перед созданием каждого объекта', false),
                                                            (390, 48, 'Для замены конструктора', false),
                                                            (391, 48, 'Для динамической загрузки классов', false);

----------------------------------------------------------
-- Вопрос 20: Исключения в блоках инициализации
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (49, 3, 'Что произойдёт, если в блоке инициализации возникнет исключительная ситуация?', 0);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (392, 49, 'Выбросится ExceptionInInitializerError', true),
                                                            (393, 49, 'Программа продолжит работу', false),
                                                            (394, 49, 'Исключение будет проигнорировано', false),
                                                            (395, 49, 'JVM завершит работу', false);

----------------------------------------------------------
-- Вопрос 21: Переопределение статических методов
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (50, 3, 'Может ли статический метод быть переопределён или перегружен?', 1);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (396, 50, 'Может быть перегружен', true),
                                                            (397, 50, 'Не может быть переопределен', true),
                                                            (398, 50, 'Может быть переопределен', false),
                                                            (399, 50, 'Не может быть перегружен', false);

----------------------------------------------------------
-- Вопрос 22: Переопределение методов
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (51, 3, 'Можно ли сузить уровень доступа/тип возвращаемого значения при переопределении метода?', 0);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (400, 51, 'Уровень доступа нельзя сузить, тип возвращаемого значения можно сузить', true),
                                                            (401, 51, 'Можно сузить и то, и другое', false),
                                                            (402, 51, 'Нельзя сузить ни то, ни другое', false),
                                                            (403, 51, 'Можно сузить уровень доступа, но нельзя тип возвращаемого значения', false);

----------------------------------------------------------
-- Вопрос 23: Переопределение методов
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (52, 3, 'Возможно ли при переопределении метода изменить: модификатор доступа; возвращаемый тип; тип аргумента или их количество?', 1);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (404, 52, 'Модификатор доступа можно только расширить', true),
                                                            (405, 52, 'Возвращаемый тип можно сузить (ковариантность)', true),
                                                            (406, 52, 'Тип/количество аргументов изменить нельзя', true),
                                                            (407, 52, 'Можно изменить все перечисленное', false),
                                                            (408, 52, 'Нельзя изменить ничего из перечисленного', false);

----------------------------------------------------------
-- Вопрос 24: Доступ к методам родителя
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (53, 3, 'Как получить доступ к переопределенным методам родительского класса?', 0);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (409, 53, 'Через ключевое слово super', true),
                                                            (410, 53, 'Через ключевое слово this', false),
                                                            (411, 53, 'Через рефлексию', false),
                                                            (412, 53, 'Невозможно получить доступ', false);

----------------------------------------------------------
-- Вопрос 25: Статические члены класса
INSERT INTO questions (id, test_id, text, question_type) VALUES
    (54, 3, 'В чем разница между членом экземпляра класса и статическим членом класса?', 0);
INSERT INTO options (id, question_id, text, is_correct) VALUES
                                                            (413, 54, 'Статические члены принадлежат классу, а не экземплярам', true),
                                                            (414, 54, 'Экземплярные члены доступны только через объект', false),
                                                            (415, 54, 'Статические члены не могут быть изменены', false),
                                                            (416, 54, 'Разницы нет, это синонимы', false);

-- Обновление последовательностей
SELECT setval('tests_id_seq', (SELECT MAX(id) FROM tests));
SELECT setval('questions_id_seq', (SELECT MAX(id) FROM questions));
SELECT setval('options_id_seq', (SELECT MAX(id) FROM options));